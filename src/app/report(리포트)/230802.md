# 2023.08.02(수) 활동기록

## 변경사항
- X

## 서버 구축
- 담당 : 임채윤
- node.js의 express를 사용하여 서버를 구축하고 그 서버에 React html을 출력할 예정
- axios를 사용하여 서버에 있는 데이터베이스(json)에 유저정보를 관리할 예정

## 홈페이지 구현
- 담당 : 장소현
- React의 Swiper를 사용한 배너창 구현

## 오늘의 삽질
- 임채윤
    - 처음엔 회원가입에 있는 남녀 성별 버튼을 만들려고 하였음
    - 그러던 중, 회원가입 기능을 구현하고자 유저데이터를 주고 받을 수 있는 백엔드를 구축하려 함
    - node.js에 있는 express로 서버를 만들고 서버와 클라이언트와의 통신에 대해 학습함
    - 회원가입 창에서 작성한 input 데이터들을 json 형식으로 받아서 server에 있는 데이터파일에 저장하려고함
    - 클라이언트는 3000번 포트, 서버는 4000번 포트로 하여 클라이언트와 서버를 nodemon을 통해 연동 성공
    - 직접적으로 클라이언트의 데이터를 서버와 주고받으려 했으나 CORS오류가 생김 (Cross-Origin Resource Sharing)
    - 이 오류는 클라이언트와 서버의 도메인이 다르면 보안상의 이유로 응답할 수 없도록 막아놓은 것
    - Proxy를 설정함으로서 이를 방지할 수 있다하여 proxy를 제공해주는 'http-proxy-middleware' 내의 createProxyMiddleware 를 사용함
    - Proxy를 설정함으로서 '/api'로 시작하는 url들을 모두 서버 localhost와 연결해줌
    - CORS가 해결된 뒤엔 클라이언트와 서버끼리 서로 데이터를 주고받는 방법을 찾았고, 그 중 대표적인 fetch와 axios를 발견함
    - fetch는 기본적으로 node.js에 탑재되어있고 별도의 설치가 필요하지 않는 장점이 있지만, axios는 더욱 많은 기능을 제공함
    - fetch는 커스텀설정에 항상 같은 규격을 써야하지만 axios는 조금 더 다양한 방식으로 요청이 가능하여 유연한 코드를 보임
    - 또한 axios는 기본적으로 응답 데이터를 json으로 보내주고 (fetch는 수동으로 변환해야함) 문자열로도 자동변환됨 (fetch는 수동 변환)
    - 본인 취향이 있겠지만 나는 axios가 더욱 편리해보여서 axios를 install하여 사용하기로 함
    - axios를 통해 오늘 배운 useEffect()를 사용하여 서버와 클라이언트를 연결하고 메세지를 주고받는 법을 익힘
    - 클라이언트와 서버가 자꾸 연동되지 않아서 오류가 발생됐는데 get과 post에 대한 이해 부족으로 인한 것이었음
    - 클라이언트에서 get를 하면 서버에서도 get을 해야 이 둘이 연결됨. post도 마찬가지. 방식의 차이일 뿐
    - 겨우 연결성공을 해서 회원가입 버튼을 누를 시 입력되어있는 데이터를 server에 json방식으로 전송하는 법을 알게되었음
    - 하지만 이렇게 전송된 json을 server에서 활용하는 방법을 전혀 모르겠는 상태에서 하루가 끝났음

- 장소현
    (배너 화살표 문제)   
    - 배너에 있는 화살표를 커스텀하려 함 
    - 독특한 화살표를 바라는 것도 아니고 디자인쪽은 자신이 없기 때문에 이미지보다는 아이콘을 사용하자는 결론이 나옴
    - 결론 : 실패 .. 다시 도전 할 것

    (배너 레시피 데이터 문제)
    - 배너에 이미지와 설명을 넣으려고 함
    - 이 이미지를 누르면 해당 레시피 페이지로 들어가야 되는데 아직 레시피 관련 데이터가 없음
    - 레시피 관련 데이터를 대략 7개 정도(배너에 쓸 것 3개, 밑에 쓸 것 4개) 만들어야 겠다고 결정
    - 칵테일 레시피 컴포넌트를 만들고 이 컴포넌트에서 내용을 가져와 배너를 구성할 것인지 배너 컴포넌트를 따로 만들어야 할 것인지 고민
    - 레시피에서 사용될 것과 배너는 너무 다르기 때문에 이 둘은 따로 만들고 대신 key값만 공유해 배너의 보러가기 버튼을 누르면 해당 레시피로 연결되도록 하기로 결정
    - 레시피 관련 컴포넌트에 칵테일 이름, 이미지, 고유 key 값을 설정해야 겠다고 결정
    - 배너 관련 컴포넌트에는 레시피 컴포넌트에서 칵테일 이름과 고유 key값은 가져와도 좋지만 이미지와 설명은 따로 만들기로 결정  

    (배너 문제)  
    - 배너를 만들었는데 스크롤을 내리면 항상 보여야할 nav(상단에 고정될 아이)가 배너에 가려지는 오류 발생
    - 배너를 nav 뒤로 보내기 위해 검색하던 중 Swiper의 Swiper-container는 onverflow : hidden이고 transform : translated인데 nav의 css에서 설정해놓은 position:sticky; 는  상위의 부모 요소 중 위의 두가지 스타일을 갖고 있으면 적용되지 않는 다는 것을 찾음
    - 이를 해결하기 위해 css에서 .banner{overflow : none; transform : none;} 을 걸었지만 실패
    - 다른 방법을 검색하던 중 z-index를 발견
    - 배너와 nav의 css에 z-index를 설정 => 실패
    (다음 날 채윤이가 해결함 문제는 .nav{z-index : 1} .banner{z-index:2}로 둔것이 문제였음 반대로 했었어야 함(.nav{z-index:2} .banner{z-index:1}로) z-index의 우선순위는 클 수록 우선순위가 크다는 것을 배움 그리고 아무리 지쳐도 관련 내용을 꼼꼼히 확인해야 시간이 더 절약된다는 것을 배움)  
     